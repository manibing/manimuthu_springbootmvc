<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ticket list</title><!-- This will display all the list of datas in the web -->
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
	integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
	crossorigin="anonymous">
	<style>
	.button{
	background-color: green;
	border-color:green;
	color:white;
	}
	pre{
font-style: italic;
font-size: 20px;
background-color: rgb(120, 162, 254);
font: rgb(255,255,255)
}
header>a{
color: rgb(255,255,255);
}
	</style>
</head>
<body>
<pre>
<header>
<b><i>Ticket Tracker Application  </i></b><a href="/tickets/getall">Tickets  </a><a href="/tickets/newTicket">New Ticket</a>

</header></pre>
    <h1>List of Tickets</h1>
    <br>
    <div class="col-small">

			<form th:action="@{search}" >
				<input type="text" name="query" id="query" size="50" th:value="${query}" required />
				&nbsp;
				<input type="submit" value="Search" class="btn btn-primary" />

			</form>
		</div>
    <br><br>
    </form>
    <table class="table">
    <thead  class="thead-dark">
    <tr>
    <th>#</th>
    <th> Ticket Title</th>
    <th> Ticket Short Description</th>
    <th>Ticket Created on</th>
    <th >Actions</th>
    </tr>
    </thead>
    
    <tbody>
    <tr th:each="ticket:${tickets}">
    <td th:text="${ticket.id}">
    <td th:text="${ticket.ticketTitle}"/>
     <td th:text="${ticket.ticketShortDescription}"/>
       <td th:text="${ticket.ticketCreatedOn}"/>
       <td>
       <div class="row">
				
					<div class="col-small">
						<!-- Add "update" button/link -->
					 <form action="#" th:action="@{/tickets/edit}" method="POST">
				<!--	<form action="#" th:action="@{/teachers/showFormForUpdate}">  -->
						<input type="hidden" name="id" th:value="${ticket.id}" />						
						<button type="submit" class="btn btn-info btn-sm ml-3 mr-1">Update</button>
					</form>
					</div>
					
					
					<div class="col-small">
					<form action="#" th:action="@{/tickets/delete}" method="POST">
					<input type="hidden" name="id" th:value="${ticket.id}"/>
					<button type="submit" class="btn btn-danger" onclick="if (!(confirm('Are you sure you want to delete this Ticket ?'))) return false">Delete</button>
					</form>
					</div>
					
					
					<div class="col-small">
					<form action="#" th:action="@{/tickets/getbyid}" method="get" >
					<input type="hidden" name="id" th:value="${ticket.id}" />
					<button type="submit" class="button">view</button>
					</form>
					</div>
					
					</div></td>
    
    </table>
</body>
</html>